<!DOCTYPE html>
<html>
<head>
	<title>5.1</title>
</head>
<body>
	<script>
		//创建一个空数组作为栈
		var stack = [];
		//获取栈顶元素
		function getTop(stack) {
		  return stack[stack.length - 1];
		}

		//向数组压入一个元素
		stack.push(1);
		stack.push(2);
		//输出栈顶元素
		console.log(getTop(stack));
		//让栈顶元素出栈
		stack.pop();
		console.log(getTop(stack));
		
		function LNode() {
		  this.mElem = null;
		  this.mNext = null;
		}

		function StackLinked() {
		  this.mNext = null; //头“指针”，指向栈顶元素
		  this.mLength = 0; //栈内元素个数
		}
		StackLinked.prototype = {

		  /** 
		   * 判断栈是否空栈
		   * @return boolean 如果为空栈返回true，否则返回false
		   */
		  getIsEmpty: function () {
			  return this.mNext == null;
			},

			/** 
			 * 将所有元素出栈
			 * @return array 返回所有栈内元素
			 */
			getAllPopStack: function () {
			  var e = [];
			  if (!this.getIsEmpty()) {
				while (this.mNext != null) {
				  e.push(this.mNext.mElem);
				  this.mNext = this.mNext.mNext;
				}
			  }
			  this.mLength = 0;
			  return e;
			},

			/** 
			 * 返回栈内元素个数
			 * @return int
			 */
			getLength: function () {
			  return this.mLength;
			},

			/** 
			 * 元素进栈
			 * @param mixed e 进栈元素值
			 * @return void
			 **/
			push: function (e) {
			  var newLn = new LNode();
			  newLn.mElem = e;
			  newLn.mNext = this.mNext;
			  this.mNext = newLn;
			  this.mLength++;
			},

			/** 
			 * 元素出栈
			 * @return boolean 出栈成功返回true,否则返回false
			 **/
			pop: function () {
			  if (this.getIsEmpty()) {
				return false;
			  }
			  var p = this.mNext,
				e = p.mElem;
			  this.mNext = p.mNext;
			  this.mLength--;
			  return true;
			},

			/** 
			 * 仅返回栈内所有元素
			 * @return array 栈内所有元素组成的一个数组
			 */
			getAllElem: function () {
			  var sldata = [],
				p;
			  if (!this.getIsEmpty()) {
				p = this.mNext;
				while (p != null) {
				  sldata.push(p.mElem);
				  p = p.mNext;
				}
			  }
			  return sldata;
			},

			/** 
			 * 返回栈顶元素
			 * @return element 返回栈顶元素
			 */
			top: function () {
			  if (this.getIsEmpty()) {
				return false;
			  }
			  var list = this.getAllElem();
			  return list[0];
			}
		};

		var stack = new StackLinked();
		stack.push('1');
		stack.push('2');
		var list = stack.getAllElem();
		console.log(stack.top());
		stack.pop();
		console.log(stack.top());
	</script>
</body>
</html>