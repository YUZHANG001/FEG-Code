<!DOCTYPE html>
<html>
<head>
	<title>7.1</title>
</head>
<body>
	<script>
		function findDup(array) {
		  var len = array.length,
			newArr = [];
		  if (!array || len < 1)
			return -1;
		  for (var i = 0; i < 1000; i++)
			newArr[i] = 0;
		  for (i = 0; i < len; i++) {
			if (newArr[array[i] - 1] == 0) {
			  newArr[array[i] - 1] = 1;
			} else {
			  return array[i];
			}
		  }
		  return -1; //无重复元素则返回-1
		}
		var array = [1, 3, 4, 2, 5, 3];
		console.log(findDup(array));
		
		function findDup3(array) {
		  var len = array.length,
			result = 0;
		  if (!array || len < 1)
			return -1;
		  for (var i = 0; i < len; i++)
			result ^= array[i];
		  for (i = 1; i < len; i++)
			result ^= i;
		  return result;
		}
		var array = [1, 3, 4, 2, 5, 3];
		console.log(findDup3(array));
		
		function findDup4(array) {
		  var len = array.length,
			index = 0;
		  if (!array || len < 1)
			return -1;
		  for (var i = 0; i < len; i++) {
			//数组中的元素值只能小于len，否则会越界
			if (array[i] >= len)
			  return -1;
			if (array[index] < 0)
			  break;
			//对于访问过的元素，通过变为相反数的方法进行标记
			array[index] *= -1;
			//index的后继为array[index]
			index = -1 * array[index];
		  }
		  return index;
		}
		var array = [1, 3, 4, 2, 5, 3];
		console.log(findDup4(array));
		
		function findDup5(array) {
		  if (!array)
			return -1;
		  var slow = 0,
			fast = 0;
		  do {
			fast = array[array[fast]]; //fast一次走两步
			slow = array[slow]; //slow一次走一步
			console.log(fast, slow);
		  } while (slow != fast); //找到相遇点
		  fast = 0;
		  do {
			fast = array[fast];
			slow = array[slow];
		  } while (slow != fast); //找到入口点
		  return slow;
		}
		var array = [1, 3, 4, 2, 5, 3];
		console.log(findDup5(array));
	</script>
</body>
</html>